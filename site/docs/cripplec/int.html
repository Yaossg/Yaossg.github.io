<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-cripplec/int">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.3.1">
<title data-rh="true">整数 | Yaossg&#x27;s Site</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://yaossg.com/site/docs/cripplec/int"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="整数 | Yaossg&#x27;s Site"><meta data-rh="true" name="description" content="程序员为什么没有办法分清万圣节和圣诞节？"><meta data-rh="true" property="og:description" content="程序员为什么没有办法分清万圣节和圣诞节？"><link data-rh="true" rel="icon" href="/site/img/sausage.png"><link data-rh="true" rel="canonical" href="https://yaossg.com/site/docs/cripplec/int"><link data-rh="true" rel="alternate" href="https://yaossg.com/site/docs/cripplec/int" hreflang="en"><link data-rh="true" rel="alternate" href="https://yaossg.com/site/docs/cripplec/int" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/site/blog/rss.xml" title="Yaossg&#39;s Site RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/site/blog/atom.xml" title="Yaossg&#39;s Site Atom Feed">




<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.24/dist/katex.min.css" integrity="sha384-odtC+0UGzzFL/6PNoE8rX/SPcQDXBJ+uRepguP4QkPCm2LBxH3FA3y+fKSiJ+AmM" crossorigin="anonymous"><link rel="stylesheet" href="/site/assets/css/styles.1161ec3e.css">
<link rel="preload" href="/site/assets/js/runtime~main.605d920d.js" as="script">
<link rel="preload" href="/site/assets/js/main.7c0a609e.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/site/"><div class="navbar__logo"><img src="/site/img/sausage-128.png" alt="Yaossg&#x27;s Site" class="themedImage_ToTc themedImage--light_HNdA"><img src="/site/img/sausage-128.png" alt="Yaossg&#x27;s Site" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Yaossg&#x27;s Site</b></a><a class="navbar__item navbar__link" href="/site/blog">Blog</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/site/docs">Doc</a><a class="navbar__item navbar__link" href="/site/friends">Friends</a></div><div class="navbar__items navbar__items--right"><a href="https://space.bilibili.com/282144386" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Bilibili<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://github.com/Yaossg/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/site/docs">香肠的文档站</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/site/docs/1-13-worldgen">浅析 1.13 世界生成</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/site/docs/biome">🌏 再析世界生成：生物群系</a><button aria-label="Toggle the collapsible sidebar category &#x27;🌏 再析世界生成：生物群系&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/site/docs/ce/overview">字符集与编码</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/site/docs/cnss/0">🖥️ CNSS Recruit 2022 Dev</a><button aria-label="Toggle the collapsible sidebar category &#x27;🖥️ CNSS Recruit 2022 Dev&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/site/docs/cripplec">Cripple C</a><button aria-label="Toggle the collapsible sidebar category &#x27;Cripple C&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/site/docs/cripplec/concept">基本概念</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/site/docs/cripplec/token">符号</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/site/docs/cripplec/text">文本</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/site/docs/cripplec/preprocessor">预处理器</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/site/docs/cripplec/op-1">运算符（上）</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/site/docs/cripplec/op-2">运算符（下）</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/site/docs/cripplec/int">整数</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/site/docs/cripplec/conv">隐式转换</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/site/docs/cripplec/cdecl">cdecl</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/site/docs/lambda">Introduction to Lambda Calculus</a><button aria-label="Toggle the collapsible sidebar category &#x27;Introduction to Lambda Calculus&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/site/docs/rc9gn">RC9GN 第一季忍者指南语录</a></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/site/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/site/docs/cripplec"><span itemprop="name">Cripple C</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">整数</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>整数</h1><p><em>程序员为什么没有办法分清万圣节和圣诞节？</em></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="整数类型">整数类型<a href="#整数类型" class="hash-link" aria-label="Direct link to 整数类型" title="Direct link to 整数类型">​</a></h2><p>毫无疑问，整数是编程中使用最多的数据类型。C 语言提供了丰富的整数类型，如下表所示：</p><table><thead><tr><th>有符号</th><th>无符号</th><th>宽度（比特）</th></tr></thead><tbody><tr><td><code>signed char</code></td><td><code>unsigned char</code></td><td>8</td></tr><tr><td><code>signed short int</code><br><code>signed short</code><br><code>short int</code><br><code>short</code></td><td><code>unsigned short int</code><br><code>unsigned short</code></td><td>至少 16</td></tr><tr><td><code>signed int</code><br><code>signed</code><br><code>int</code></td><td><code>unsigned int</code><br><code>unsigned</code></td><td>至少 16</td></tr><tr><td><code>signed long int</code><br><code>signed long</code><br><code>long int</code><br><code>long</code></td><td><code>unsigned long int</code><br><code>unsigned long</code></td><td>至少 32</td></tr><tr><td><code>signed long long int</code><br><code>signed long long</code><br><code>long long int</code><br><code>long long</code></td><td><code>unsigned long long int</code><br><code>unsigned long long</code></td><td>至少 64</td></tr></tbody></table><p>同一个单元格中的类型是等价的。任何一个由多个关键字组成的类型，你都可以任意打乱关键字的顺序。</p><p>下面围绕着我们用的最多的整型，来看看我们会遇到哪些问题。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="可移植性缺陷">可移植性缺陷<a href="#可移植性缺陷" class="hash-link" aria-label="Direct link to 可移植性缺陷" title="Direct link to 可移植性缺陷">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="整数的宽度">整数的宽度<a href="#整数的宽度" class="hash-link" aria-label="Direct link to 整数的宽度" title="Direct link to 整数的宽度">​</a></h3><p>所谓整数的宽度（width）是指整数的位数。</p><p>上表中的“至少”二字意味着我们不能保证整数的宽度，进而造成一些意外的溢出。不过 C 语言至少保证<code>1 == sizeof(char) &lt;= sizeof(short) &lt;= sizeof(int) &lt;= sizeof(long) &lt;= sizeof(long long)</code>。</p><p>C 的宏（C++ 的关键字）<code>wchar_t</code>，作为平台相关的宽字符，在 Windows 下是两字节，而在 <!-- -->*<!-- -->nix 下是四字节。因此依赖于<code>wchar_t</code>宽度的也是不可靠的。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="整数的符号性">整数的符号性<a href="#整数的符号性" class="hash-link" aria-label="Direct link to 整数的符号性" title="Direct link to 整数的符号性">​</a></h3><p>所谓整数的符号性（signedness）是指整数是否可以表示负数。绝大多数整数类型默认都是<code>signed</code>的。</p><p><code>char</code>等价于<code>signed char</code>和<code>unsigned char</code>中的任意一个，是由编译器决定的，而不是默认<code>signed</code>。因此依赖于<code>char</code>的符号性是不可靠的。但是<code>char</code>有一样是非常可靠的，那就是它的宽度——<code>sizeof(char) == 1</code>恒成立！</p><p>C99 还引入了<code>_Bool</code>类型。它只有一个位，表示 0 或 1，即假或真。此外，<code>_Bool</code>是无符号的。如果只有一位还是有符号的会怎么样？那就只能表示 0 或 -1 咯。（想一想，为什么？）</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="有符号数的实现">有符号数的实现<a href="#有符号数的实现" class="hash-link" aria-label="Direct link to 有符号数的实现" title="Direct link to 有符号数的实现">​</a></h3><p>对于现代人来说，使用补码（two&#x27;s complement）表示有符号数简直是天经地义。然而，在 C23 和 C++20 之前，标准并没有废除对其它表示方法的支持。也就是是说，不排除遇到极为罕见的反码（one&#x27;s complement，即取相反数时只取反，不加一）乃至是原码（sign-and-magnitude，即相反数即为原数字仅最高位反转后的数字）的可能性。这就意味着，一切涉及到有符号数实现的操作，例如在有符号数整数溢出时的行为，都是实现定义的！</p><p>当然这似乎太钻牛角尖了，几乎所有 C 编译器和所有的 C++ 编译器都使用补码表示有符号数，考虑这个问题多少有点杞人忧天。如果你真的遇上了其它的情况，倒也不能不说是一件幸事。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="除法与右移">除法与右移<a href="#除法与右移" class="hash-link" aria-label="Direct link to 除法与右移" title="Direct link to 除法与右移">​</a></h3><p><a href="/site/docs/cripplec/op-2#%E4%BD%8D%E7%A7%BB%E8%BF%90%E7%AE%97">这里</a>提到左移和乘法转换的时候需要注意优先级问题。其实右移和除法也是，但是还有更多的因素需要考虑。</p><div class="language-C codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-C codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">printf(&quot;%d\n&quot;, -1 / 2);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">printf(&quot;%d\n&quot;, -1 &gt;&gt; 1);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>C99 要求：商向 0 取整。所以第一行输出 0。</p><p>C++20 要求：有符号数右移时，最高位补符号位（即，算术右移，造成的结果是向负无穷取整）。所以第二行输出 -1。</p><p>也就是说，在被除数是负数的情况下，除法与右移的舍入方向是不同的。</p><p>你可能注意到我在要求前面加的标准了，没错，尽管大多数编译器都遵循这两个惯例，但是在对应的标准之前，它是不被保证的。</p><p>另外要注意不要与个别语言的例外行为混淆，如 Python 的<code>-1 // 2</code>结果为<code>-1</code>（Python 中<code>//</code>才是整除）。</p><p>而右移的这个问题，我们可以进一步讨论一下。对于有符号数而言，我们一般把最高位补 0 的右移成为逻辑右移，最高位补符号位的右移成为算术右移。C 语言和 C++20 之前都没有对此作明确的规定，也就是说任何一种右移都可能，因此最好不要依赖于这一点。推而广之的，我建议在进行位运算的时候，尽可能的使用无符号整数，来确保运算不会因为其他算术运算对符号位的特殊处理而收到干扰。关于这一点，你会在<a href="/site/docs/cripplec/conv#%E6%95%B4%E5%9E%8B%E7%9A%84%E5%85%B1%E5%90%8C%E7%B1%BB%E5%9E%8B">这里</a>中了解更多。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="求余还是求模">求余还是求模<a href="#求余还是求模" class="hash-link" aria-label="Direct link to 求余还是求模" title="Direct link to 求余还是求模">​</a></h3><p>根据前面除法的定义，我们已经可以知道，<code>%</code>是求余而不是求模（与之对应的，Python 的<code>%</code>就是求模）。</p><p>注意，C 语言的<code>%</code>的操作数只能是整数。如果想用浮点数，可以使用<code>&lt;math.h&gt;</code>提供的<code>fmod</code>（对，虽然是求余，但是名字是<code>fmod</code>，而<code>remainder</code>既不是求余也不是求模）。</p><p>于是，我们已经合理定义了下面这些运算：</p><div class="language-C codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-C codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">3 / 2 == 1 &amp;&amp; 3 % 2 == 1;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-3 / 2 == -1 &amp;&amp; -3 % 2 == -1;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">3 / -2 == -1 &amp;&amp; 3 % -2 == 1;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-3 / -2 == 1 &amp;&amp; -3 % -2 == -1;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>它们都符合商乘除数加余数等于被除数（基本的数学要求）和商向零取整（C99 要求）的要求。</p><p>你可以思考一下，如果把第二个条件换成别的什么（例如余数大于零），结果及其意义会是什么。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="定长整型">定长整型<a href="#定长整型" class="hash-link" aria-label="Direct link to 定长整型" title="Direct link to 定长整型">​</a></h2><p>C99 引入了<code>&lt;stdint.h&gt;</code>和<code>&lt;inttypes.h&gt;</code>，来解决整数不定长的问题。但它们也带来了一些问题。</p><p><code>&lt;stdint.h&gt;</code>中定义的定长整型基本的格式是：</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[u]int[N|_leastN|_fastN|max|ptr]_t</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>其中 N 替换为 8, 16, 32, 64 中的一个。</p><p>u 的前缀表示无符号数。由于是宏定义，所以下面这种写法大概率也是合法的，但不是良好的形式：</p><div class="language-C codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-C codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">unsigned int64_t x; // why not uint64_t?</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>可能令你有些意外的是，标准不保证实现给出<code>[u]intN_t</code>的定义。也就是说，从整型的最初的设计，到定长整型的定义，自始至终没有要求编译器真正意义上给出某个定长的整型。这种过分的灵活性是双刃剑。好在大部分的实现还是会给出定长的宏定义。标准同样不保证实现给出<code>[u]intptr_t</code>的定义。</p><p><code>[u]intmax_t</code>和<code>[u]intptr_t</code>很好理解，就是最长的整型，和指针对应的整型。<code>least</code>和<code>fast</code>是干嘛的？答案是，<code>least</code>是我们最熟悉的话术：至少 N 比特的整型（这也解释了为什么它可以保证被提供）；而<code>fast</code>则是略令人费解的：最快的 N 比特的整型。例如一种典型的做法是把<code>int_fast16_t</code>定义为<code>int</code>，因为实际上对<code>short</code>的计算都先提升到了<code>int</code>，计算完毕之后又转换回了<code>short</code>（参见<a href="/site/docs/cripplec/conv#%E6%95%B4%E5%9E%8B%E7%9A%84%E6%8F%90%E5%8D%87">这里</a>）。遗憾的是，这样做虽然是有一定道理的，但同样是不能保证的。正因为这里对“最快”的描述非常模糊，我很认同 gcc 对此的理解：<em>Not actually guaranteed to be fastest for all purposes</em>。</p><p>假设有这样一段代码：</p><div class="language-C codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-C codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">int a;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">long long b;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">puts(&quot;Please input a 32-bits int and a 64-bits int&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">scanf(&quot;%d%lld&quot;, &amp;a, &amp;b);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">printf(&quot;%d, %lld&quot;, a, b);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>你刚刚学习了定长整型，为了增加可移植性，你把代码改成了这样：</p><div class="language-C codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-C codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">int32_t a;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">int64_t b;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">puts(&quot;Please input a 32-bits int and a 64-bits int&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">scanf(&quot;%d%lld&quot;, &amp;a, &amp;b);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">printf(&quot;%d, %lld&quot;, a, b);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>一旦用上定长整型，你仿佛就找回一种可移植性上身的感觉，但这恐怕有些得意忘形了。<code>&quot;%d&quot;</code>对应的是<code>int32_t</code>吗？很明显应该是<code>int</code>。<code>&quot;%lld&quot;</code>同理。你这代码不仅没有实现可移植性目标，反而变得不可移植了！（原来那个代码反而是相对而言可移植性更高的版本）</p><p>为了解决这个问题，<code>&lt;inttypes.h&gt;</code>中定义了一些宏，帮你写出真正可移植的代码：</p><div class="language-C codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-C codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">int32_t a;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">int64_t b;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">puts(&quot;Please input a 32-bits int and a 64-bits int&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">scanf(&quot;%&quot;SCNd32&quot;%&quot;SCNd64, &amp;a, &amp;b);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">printf(&quot;%&quot;PRId32&quot;, %&quot;PRId64, a, b);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>我知道你想说什么，这也太丑了吧。没办法，这就是可移植性的代价。注意这里利用的是字符串字面量在编译时自动连接的特性。</p><p>此外，这段代码的可移植性仍然不够高——它不能移植到 C++ 中。字符串末尾的标识符会被 C++ 解读为用户定义字面量，所以最终的可移植版本如下：</p><div class="language-C codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-C codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">int32_t a;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">int64_t b;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">puts(&quot;Please input a 32-bits int and a 64-bits int&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">scanf(&quot;%&quot; SCNd32&quot;%&quot; SCNd64, &amp;a, &amp;b);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">printf(&quot;%&quot; PRId32&quot;, %&quot; PRId64, a, b);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>假如有一天，你想把<code>a</code>也改成<code>int64_t</code>。请检查一下，这段代码总共需要修改几处？</p><p>（答案：四处，别忘了用来提示输入的字符串！）</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="位段">位段<a href="#位段" class="hash-link" aria-label="Direct link to 位段" title="Direct link to 位段">​</a></h2><p>位段（bitfield）可以精确地指定一个整型成员在结构体中占用的比特数。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="底层类型">底层类型<a href="#底层类型" class="hash-link" aria-label="Direct link to 底层类型" title="Direct link to 底层类型">​</a></h3><p>位段可以是下面四种类型之一</p><ul><li><code>unsigned</code>，无符号位段，例如<code>unsigned b:3;</code>的范围是<code>0..7</code></li><li><code>signed</code>，无符号位段，例如<code>signed b:3;</code>的范围是<code>-4..3</code></li><li><code>int</code>，是的，在位段里面，<code>int</code>也变成跟<code>char</code>一样，实现定义有无符号，所以请不要在 C 语言中使用<code>int</code>作为位段的类型。C++ 中规定与<code>signed</code>一致。 </li><li><code>_Bool</code>（C99)，无符号位段，只允许<code>_Bool b:1;</code>，与它的隐式转换遵循布尔转换的机制（参见<a href="/site/docs/cripplec/conv#%E5%B8%83%E5%B0%94%E7%B1%BB%E5%9E%8B">这里</a>）</li></ul><p>其它整型实现也可以选择支持，位段的位数不能超过底层类型的宽度（C++ 中取消了这个限制，但额外的比特仅作填充用，参见后文）</p><div class="language-C codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-C codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">struct S {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> unsigned b : 3;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">} s = {7};</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">++s.b; // 无符号溢出，s.b 变为 0</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="位段的布局">位段的布局<a href="#位段的布局" class="hash-link" aria-label="Direct link to 位段的布局" title="Direct link to 位段的布局">​</a></h3><p>下面假设<code>sizeof(unsigned) == 4</code>。</p><p>一个底层整数类型就是位段的分配单位，相邻的段位很可能会被打包到同一个段位之中。如果段位没有名字的话，相应的比特仍会被分配，但不能被使用，成为填充（padding）比特。而宽度为 0 的段位会打断一个分配单位，直接进入下一个分配单位。</p><div class="language-C codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-C codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">struct S1 {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // 通常占用 4 字节：</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // 5  bits: b1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // 11 bits: 未使用</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // 6  bits: b2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // 2  bits: b3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // 8  bits: 未使用</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    unsigned b1 : 5;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    unsigned : 11;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    unsigned b2 : 6;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    unsigned b3 : 2;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">};</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">struct S2 {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // 通常占用 8 字节：</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // 5  bits: b1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // 27 bits: 未使用</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // 6  bits: b2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // 15 bits: b3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // 11 bits: 未使用</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    unsigned b1 : 5;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    unsigned : 0; // 开一个新的 unsigned</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    unsigned b2 : 6;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    unsigned b3 : 15;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">};</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>此外，你还需要注意，</p><p>对于位段，你不可以：</p><ul><li>取地址</li><li>取大小</li><li>取对齐要求</li></ul><p>对于位段，下面这些行为是实现定义的：</p><ul><li><p>单个位段能否跨越分配单位</p></li><li><p>单个分配单位内的多个位段的顺序</p></li></ul><p>可以发现，位段真正在内存中的布局，是非常依赖于实现的。因此，如果要写可移植性较高的代码，我们应该减少对于位段的内存布局的依赖，而是着眼于利用位段抽象的功能——通过把较少的比特紧凑的安排来减少内存占用——这个功能。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="八进制常量">八进制常量<a href="#八进制常量" class="hash-link" aria-label="Direct link to 八进制常量" title="Direct link to 八进制常量">​</a></h2><p>不要为了对齐在整数开头补 0，比如</p><div class="language-C codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-C codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">int a = 134;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">int b = 042;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>你可能以为<code>b</code>是<code>42</code>，实际上只有<code>34</code>。</p><p>当然，比这更难差觉的情况，出现在连 0 都没有的时候，参见<a href="/site/docs/cripplec/text#%E6%95%B0%E5%AD%97%E8%BD%AC%E4%B9%89%E5%BA%8F%E5%88%97">这里</a>。</p><p><em>程序员为什么没有办法分清万圣节和圣诞节？因为 Oct 31 = Dec 25 啊。</em></p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/site/docs/cripplec/op-2"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">运算符（下）</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/site/docs/cripplec/conv"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">隐式转换</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#整数类型" class="table-of-contents__link toc-highlight">整数类型</a></li><li><a href="#可移植性缺陷" class="table-of-contents__link toc-highlight">可移植性缺陷</a><ul><li><a href="#整数的宽度" class="table-of-contents__link toc-highlight">整数的宽度</a></li><li><a href="#整数的符号性" class="table-of-contents__link toc-highlight">整数的符号性</a></li><li><a href="#有符号数的实现" class="table-of-contents__link toc-highlight">有符号数的实现</a></li><li><a href="#除法与右移" class="table-of-contents__link toc-highlight">除法与右移</a></li><li><a href="#求余还是求模" class="table-of-contents__link toc-highlight">求余还是求模</a></li></ul></li><li><a href="#定长整型" class="table-of-contents__link toc-highlight">定长整型</a></li><li><a href="#位段" class="table-of-contents__link toc-highlight">位段</a><ul><li><a href="#底层类型" class="table-of-contents__link toc-highlight">底层类型</a></li><li><a href="#位段的布局" class="table-of-contents__link toc-highlight">位段的布局</a></li></ul></li><li><a href="#八进制常量" class="table-of-contents__link toc-highlight">八进制常量</a></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Quick Access</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://yaossg.com/end-poem/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Online End Poem<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/Yaossg/site" target="_blank" rel="noopener noreferrer" class="footer__link-item">Site Source Code<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Related Sites</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://docusaurus.io/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Powered By Docusaurus<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://afdian.net/a/Yaossg" target="_blank" rel="noopener noreferrer" class="footer__link-item">Support Me Via Afdian<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Yaossg's Site</div></div></div></footer></div>
<script src="/site/assets/js/runtime~main.605d920d.js"></script>
<script src="/site/assets/js/main.7c0a609e.js"></script>
</body>
</html>